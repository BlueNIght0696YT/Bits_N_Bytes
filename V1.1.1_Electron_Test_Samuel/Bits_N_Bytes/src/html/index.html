<!DOCTYPE
  html>
<html>

<head>
  <title>
    Bits
    N
    Bytes
  </title>
  <meta
    charset="utf-8">
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1">
  <link
    rel="stylesheet"
    href="../css/uikit.min.css" />
  <link
    rel="stylesheet"
    href="../css/uikit-img-style.css" />
  <link
    rel="stylesheet"
    href="../css/index.css">
  <link
    rel="stylesheet"
    href="../css/todo.css">
  <link
    rel="stylesheet"
    href="../css/clock.css">
  <link
    rel="stylesheet"
    href="https://unicons.iconscout.com/release/v4.0.0/css/line.css">
  <script
    src="../js/uikit.min.js"></script>
  <script
    src="../js/uikit-icons.min.js"></script>
  <script
    src="../js/uikit.js"></script>
  <script
    src="../js/background.js"></script>
</head>

<body>
  <div
    id="headerbar">
    <button
      id="minimize-button">Click
      me</button>
    <button
      id="fullscreen-button">[]</button>
    <button
      id="close-button">X</button>
    <button
      onclick="changeImage()">TEST</button>
  </div>
  <script>
    const { ipcRenderer, remote } = require('electron');
    // Add event listeners to the buttons
    document.getElementById("minimize-button").addEventListener("click", (e) => {
      ipcRenderer.send('minimize');
    });
    document.getElementById("fullscreen-button").addEventListener("click", (e) => {
      let toggle = !remote.getCurrentWindow().isFullScreen();
      ipcRenderer.send('fullscreen', toggle);
    });
    document.getElementById("close-button").addEventListener("click", (e) => {
      ipcRenderer.send('close');
    });
    document.getElementById("test-button").addEventListener("click", (e) => {
      window.changeImage();
    });

  </script>
  <!-- NavBar -->
  <nav
    class="uk-navbar-container navBarColor"
    uk-navbar="align: center">
    <div
      class="uk-navbar-center">
      <ul
        class="uk-navbar-nav">
        <li>
          <a
            class="navBarText">Menu</a>
          <div
            class="uk-navbar-dropdown">
            <ul
              class="uk-nav uk-navbar-dropdown-nav">
              <li
                class="uk-nav-divider">
              </li>
              <li
                class="uk-nav-header">
                customize
              </li>
              <button
                onclick="changeImage()">Change
                Wallpaper</button>
              <li>
                <input
                  type="button"
                  value="Uhr"
                  onClick="showHideWidget('widget2');" />
              </li>
              <li>
                <input
                  type="button"
                  value="To-Do Liste"
                  onClick="showHideWidget('widget1');" />
              </li>
              <li>
                <input
                  type="button"
                  value="Wetter"
                  onClick="showHideWidget('widget3');" />
              </li>
              <li>
                <input
                  type="button"
                  value="Wetter Map"
                  onClick="showHideWidget('widget4');" />
              </li>
              <li
                class="uk-nav-divider">
              </li>
              <li
                class="uk-active">
                Credits
              </li>
              <li>
                <a
                  href="credits.html">Who
                  made
                  it?</a>
              </li>
            </ul>
          </div>
        </li>
      </ul>
    </div>
    <button
      id="ASong"
      class="songbutton"
      onClick="playPause()">
      <audio
        src="../addons/videoplayback.mp3"
        autoplay
        loop></audio>
      â–¶
    </button>
    <script
      src="../js/playmusic.js"></script>




  </nav>

  <!-- NavBar -->



  <!-- Background -->
  <img
    name="slide"
    width="100%"
    height="100%" />
  <!-- Background -->





  <!-- Widget -->
  <script
    type="text/javascript">
      function showHideWidget(widgetID) {
        var widget = document.getElementById(widgetID);
        if (widget.style.display == "none") {
          widget.style.display = "block";
        } else {
          widget.style.display = "none";
        }
      }
    </script>


  <div
    class="uk-position-cover"
    id="widgetcontainer">


    <div
      id="widget1"
      class="widget">

      <div
        class="wrapper">
        <div
          class="task-input">
          <input
            type="text"
            placeholder="Add a new task">
        </div>
        <div
          class="controls">
          <div
            class="filters">
            <span
              class="active"
              id="all">All</span>
            <span
              id="pending">Pending</span>
            <span
              id="completed">Completed</span>
          </div>
          <button
            class="clear-btn">Clear
            All</button>
        </div>
        <ul
          class="task-box">
        </ul>
      </div>

      <script
        src="../js/todo.js"></script>

    </div>


    <div
      id="widget2"
      class="widget">

      <iframe
        style="max-width:900px;max-height:900px;"
        src="https://uhrzeit123.de/vollbild#background=slideshow&showtitle=false&showdate=false&showtimeofday=true&title=Aktuelle%20Uhrzeit&widget=yes"
        frameborder=0></iframe>
    </div>


    <div
      id="widget3"
      class="widget">

      <iframe
        src="https://www.meteoblue.com/en/weather/widget/three?geoloc=detect&nocurrent=0&noforecast=0&days=4&tempunit=CELSIUS&windunit=KILOMETER_PER_HOUR&layout=image"
        frameborder="0"
        scrolling="NO"
        allowtransparency="true"
        sandbox="allow-same-origin allow-scripts allow-popups allow-popups-to-escape-sandbox"
        style="width: 460px; height: 596px"></iframe>

    </div>


    <div
      id="widget4"
      class="widget">

      <iframe
        src="https://www.meteoblue.com/en/weather/maps/widget/obergrossegg_switzerland_11579273?windAnimation=0&windAnimation=1&gust=0&gust=1&satellite=0&satellite=1&cloudsAndPrecipitation=0&cloudsAndPrecipitation=1&temperature=0&temperature=1&sunshine=0&sunshine=1&extremeForecastIndex=0&extremeForecastIndex=1&geoloc=fixed&tempunit=C&windunit=km%252Fh&lengthunit=metric&zoom=9&autowidth=manu"
        frameborder="0"
        scrolling="NO"
        allowtransparency="true"
        sandbox="allow-same-origin allow-scripts allow-popups allow-popups-to-escape-sandbox"
        style="width: 460px; height: 270px"></iframe>

    </div>
    <!-- Background -->







    <!-- Holt die lokale JS-Datei -->
    <script
      src="js/zli-background.js"></script>
    <script
      src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script
      src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
    <script>
      $(function () {
        $(".widget").draggable({ containment: "parent" });
        $(".widget").mousedown(function () {
          $(this).css("z-index", 1);
        });
        $(".widget").mouseup(function () {
          $(this).css("z-index", 0);
        });
        $("#show").click(function () {
          $(".widget").removeClass("hidden");
        });
        $("#hide").click(function () {
          $(".widget").addClass("hidden");
        });
      });
    </script>
    <script>
      function neu() {
        var e = document.getElementById("dropdown");
        var value = e.value;
        var text = e.options[e.selectedIndex].text;
        var div = document.createElement("div");
        var button = document.createElement("button");
        var element = document.createElement("p");
        element.innerHTML = document.getElementById("text").value;
        button.innerHTML = "delete";
        div.id = document.getElementById("text").value;
        button.addEventListener("click", function () {
          document.getElementById(e.options[e.selectedIndex].id).remove();
          fetch("/delete", {
            method: "POST",
            headers: {
              Accept: "application/json",
              "Content-Type": "application/json",
            },
            body: JSON.stringify({ ID: e.options[e.selectedIndex].id }),
          });
        });
        div.appendChild(button);
        div.appendChild(element);
        document.getElementById(text).appendChild(div);
        fetch("create", {
          method: "POST",
          headers: {
            Accept: "application/json",
            "Content-Type": "application/json",
          },
          body: JSON.stringify({
            text: document.getElementById("text").value,
            status: e.options[e.selectedIndex].id,
          }),
        });
      }
      fetch("to_do", {
        method: "GET",
      })
        .then((response) => response.json())
        .then((data) => {
          data.forEach((task) => {
            var div = document.createElement("div");
            var button = document.createElement("button");
            var element = document.createElement("p");
            element.innerHTML = task["Text"];
            button.innerHTML = "delete";
            div.id = task["ID"];
            button.addEventListener("click", function () {
              console.log(JSON.stringify({ ID: task["ID"] }));
              document.getElementById(task["ID"]).remove();
              fetch("/delete", {
                method: "POST",
                headers: {
                  Accept: "application/json",
                  "Content-Type": "application/json",
                },
                body: JSON.stringify({ ID: task["ID"] }),
              });
            });
            div.appendChild(button);
            div.appendChild(element);
            if (task["Status"] === 1) {
              document.getElementById("do").appendChild(div);
            }
            if (task["Status"] === 2) {
              document.getElementById("doing").appendChild(div);
            }
            if (task["Status"] === 3) {
              document.getElementById("done").appendChild(div);
            }
          });
        });
    </script>











</body>

</html>